(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{5005:function(e,t,s){Promise.resolve().then(s.bind(s,5033))},5033:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var a=s(7437),r=s(2265),n=s(6463),i=s(9354),o=s(4446),l=s(7920);let d=(e,t)=>{(0,r.useEffect)(()=>{let s=s=>{!e.current||e.current.contains(s.target)||t(s)};return document.addEventListener("mousedown",s),document.addEventListener("touchstart",s),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("touchstart",s)}},[e,t])},c=(0,r.createContext)(void 0),h=e=>{let{children:t}=e,[s,n]=(0,r.useState)(!1);return(0,a.jsx)(c.Provider,{value:{open:s,setOpen:n},children:t})},m=()=>{let e=(0,r.useContext)(c);if(!e)throw Error("useModal must be used within a ModalProvider");return e};function x(e){let{children:t}=e;return(0,a.jsx)(h,{children:t})}let u=e=>{let{children:t,className:s}=e,{setOpen:r}=m();return(0,a.jsx)("button",{className:(0,i.cn)("text-center relative overflow-hidden",s),onClick:()=>r(!0),children:t})},f=e=>{let{children:t}=e,{open:s}=m();(0,r.useEffect)(()=>{s?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[s]);let n=(0,r.useRef)(null),{setOpen:c}=m();return d(n,()=>c(!1)),(0,a.jsx)(o.M,{children:s&&(0,a.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1,backdropFilter:"blur(10px)"},exit:{opacity:0,backdropFilter:"blur(0px)"},className:"fixed [perspective:800px] [transform-style:preserve-3d] inset-0 h-full w-full flex items-center justify-center z-[999999] modal-container pointer-events-auto",children:[(0,a.jsx)(b,{}),(0,a.jsxs)(l.E.div,{ref:n,className:(0,i.cn)("min-h-[50%] max-h-[90%] md:max-w-[40%] bg-vista-white dark:bg-onyx-gray border border-mine-shaft/10 dark:border-gray-700 md:rounded-2xl relative z-[1000000] modal-content flex flex-col flex-1 overflow-hidden shadow-2xl"),initial:{opacity:0,scale:.5,rotateX:40,y:40},animate:{opacity:1,scale:1,rotateX:0,y:0},exit:{opacity:0,scale:.8,rotateX:10},transition:{type:"spring",stiffness:260,damping:15},children:[(0,a.jsx)(j,{}),t]})]})})},g=e=>{let{children:t,className:s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col flex-1 p-8 md:p-10",s),children:t})},p=e=>{let{children:t,className:s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex justify-end p-4 bg-vista-white/50 dark:bg-onyx-gray/50 border-t border-mine-shaft/10 dark:border-gray-700",s),children:t})},b=e=>{let{className:t}=e;return(0,a.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1,backdropFilter:"blur(10px)"},exit:{opacity:0,backdropFilter:"blur(0px)"},className:"fixed inset-0 h-full w-full bg-black bg-opacity-50 z-[999998] modal-overlay pointer-events-auto ".concat(t)})},j=()=>{let{setOpen:e}=m();return(0,a.jsx)("button",{onClick:()=>e(!1),className:"absolute top-4 right-4 group",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 text-mine-shaft dark:text-platinum-gray group-hover:scale-125 group-hover:rotate-3 transition duration-200",children:[(0,a.jsx)("path",{d:"m18 6-12 12"}),(0,a.jsx)("path",{d:"m6 6 12 12"})]})})};var v=s(580),w=s(4887);function y(e){let{children:t}=e,[s,a]=(0,r.useState)(!1);return((0,r.useEffect)(()=>(a(!0),()=>a(!1)),[]),s)?(0,w.createPortal)(t,document.body):null}function k(){let e=(0,n.useRouter)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(x,{children:[(0,a.jsx)(u,{children:(0,a.jsx)(v.h,{variant:"primary",className:"px-4 py-2 text-sm",children:"+ New Resume"})}),(0,a.jsx)(y,{children:(0,a.jsxs)(f,{children:[(0,a.jsxs)(g,{children:[(0,a.jsx)("h4",{className:"text-2xl md:text-3xl text-mine-shaft dark:text-platinum-gray font-bebas tracking-tight text-center mb-8",children:"Create a New Resume ✨"}),(0,a.jsx)("div",{className:"flex justify-center items-center mb-8",children:["https://images.unsplash.com/photo-1586281380349-632531db7ed4?q=80&w=3000&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1573790387438-4da905039392?q=80&w=3425&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1555400038-63f5ba517a47?q=80&w=3540&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1554931670-4ebfabf6e7a9?q=80&w=3387&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1546484475-7f7bd55792da?q=80&w=2581&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"].map((e,t)=>(0,a.jsx)(l.E.div,{style:{rotate:20*Math.random()-10},whileHover:{scale:1.1,rotate:0,zIndex:100},whileTap:{scale:1.1,rotate:0,zIndex:100},className:"rounded-xl -mr-4 mt-4 p-1 bg-vista-white dark:bg-charcoal-black border border-mine-shaft/10 dark:border-gray-700 shrink-0 overflow-hidden shadow-sm",children:(0,a.jsx)("img",{src:e,alt:"resume images",width:"500",height:"500",className:"rounded-lg h-16 w-16 md:h-24 md:w-24 object-cover shrink-0"})},"images"+t))}),(0,a.jsx)("div",{className:"text-center mb-8",children:(0,a.jsx)("p",{className:"text-mine-shaft/60 dark:text-platinum-gray/60 text-sm md:text-base font-editorial",children:"Choose how you'd like to get started with your new resume"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto",children:[(0,a.jsxs)(v.h,{variant:"outline",onClick:()=>{e.push("/revamp")},className:"flex flex-col items-center justify-center space-y-4 p-8 h-40 border-2 border-sunglow rounded-xl hover:bg-sunglow/10 dark:hover:bg-sunglow/20 transition-all duration-200 group",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-sunglow/20 dark:bg-sunglow/30 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-sunglow",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-base font-sf font-semibold text-mine-shaft dark:text-platinum-gray mb-2",children:"Revamp Existing"}),(0,a.jsx)("p",{className:"text-sm text-mine-shaft/60 dark:text-platinum-gray/60 font-editorial",children:"Upload and improve your current resume"})]})]}),(0,a.jsxs)(v.h,{variant:"outline",onClick:()=>{e.push("/editor")},className:"flex flex-col items-center justify-center space-y-4 p-8 h-40 border-2 border-sunglow rounded-xl hover:bg-sunglow/10 dark:hover:bg-sunglow/20 transition-all duration-200 group",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-sunglow/20 dark:bg-sunglow/30 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-sunglow",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-base font-sf font-semibold text-mine-shaft dark:text-platinum-gray mb-2",children:"Start from Scratch"}),(0,a.jsx)("p",{className:"text-sm text-mine-shaft/60 dark:text-platinum-gray/60 font-editorial",children:"Build a completely new resume"})]})]})]})]}),(0,a.jsx)(p,{className:"gap-4 justify-center bg-vista-white/50 dark:bg-onyx-gray/50 border-t border-mine-shaft/10 dark:border-gray-700",children:(0,a.jsx)("p",{className:"text-xs text-mine-shaft/50 dark:text-platinum-gray/50 text-center font-sf",children:"Choose an option above to get started with your resume"})})]})})]})})}var N=s(9630),D=s(7716);let _=r.forwardRef((e,t)=>{let{className:s,variant:r="primary",size:n="md",icon:o,children:l,...d}=e;return(0,a.jsxs)("button",{className:(0,i.cn)("inline-flex items-center justify-center font-sf font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-sunglow text-mine-shaft hover:bg-sunglow/90 focus:ring-sunglow shadow-sm hover:shadow-md rounded-xl",secondary:"bg-mine-shaft dark:bg-onyx-gray text-vista-white dark:text-platinum-gray hover:bg-mine-shaft/90 dark:hover:bg-onyx-gray/90 focus:ring-mine-shaft dark:focus:ring-gray-600 shadow-sm hover:shadow-md rounded-xl",outline:"border-2 border-sunglow text-sunglow bg-vista-white dark:bg-onyx-gray hover:bg-sunglow/10 dark:hover:bg-sunglow/20 focus:ring-sunglow rounded-xl",ghost:"text-mine-shaft dark:text-platinum-gray hover:bg-gray-100 dark:hover:bg-gray-800 focus:ring-gray-300 dark:focus:ring-gray-600 rounded-lg"}[r],{sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-4 py-2 text-sm gap-2",lg:"px-6 py-3 text-base gap-2.5"}[n],s),ref:t,...d,children:[l,o&&(0,a.jsx)("span",{className:"flex-shrink-0",children:o})]})});_.displayName="ActionButton";var C=s(5064);function E(){let{theme:e,toggleTheme:t}=(0,C.F)(),[s,n]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{n(!0)},[]),s)?(0,a.jsx)("button",{onClick:t,className:"relative w-14 h-7 bg-gray-200 dark:bg-gray-700 rounded-full p-1 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-sunglow focus:ring-offset-2","aria-label":"Switch to ".concat("light"===e?"dark":"light"," mode"),children:(0,a.jsx)("div",{className:"w-5 h-5 bg-white dark:bg-gray-200 rounded-full shadow-md transform transition-transform duration-300 flex items-center justify-center ".concat("dark"===e?"translate-x-6":"translate-x-0"),children:"light"===e?(0,a.jsx)("svg",{className:"w-3 h-3 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):(0,a.jsx)("svg",{className:"w-3 h-3 text-gray-700",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})})}):(0,a.jsx)("button",{className:"relative w-12 h-6 bg-gray-200 rounded-full p-1",children:(0,a.jsx)("div",{className:"absolute w-4 h-4 bg-white rounded-full shadow-md"})})}let L=e=>{let{title:t,value:s,change:r,trend:n,description:o,isNegative:l=!1,actionButton:d=null,isHighestAts:c=!1}=e;return(0,a.jsx)("div",{className:"bg-vista-white dark:bg-onyx-gray border-0 rounded-2xl p-8 hover:shadow-lg transition-all duration-300 shadow-sm relative overflow-hidden",children:(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:(0,i.cn)("text-sm font-medium mb-2 font-sf uppercase tracking-wider",c?"text-brand-gradient":"text-mine-shaft/70 dark:text-platinum-gray/70"),children:t}),(0,a.jsx)("div",{className:(0,i.cn)("text-4xl font-bebas tracking-tight",c?"text-brand-gradient bg-[length:200%_200%] animate-gradient-flow":"text-mine-shaft dark:text-platinum-gray"),children:s})]}),(0,a.jsxs)("div",{className:(0,i.cn)("flex items-center space-x-2 text-sm font-sf font-semibold px-3 py-1 rounded-full",l?"text-db3b09 bg-red-50 dark:bg-red-900/20 dark:text-red-400":"text-emerald-600 bg-emerald-50 dark:bg-emerald-900/20 dark:text-emerald-400"),children:[(0,a.jsx)("span",{className:"text-base",children:l?"\uD83D\uDCC9":"\uD83D\uDCC8"}),(0,a.jsx)("span",{children:r})]})]}),(0,a.jsxs)("div",{className:"text-mine-shaft/60 dark:text-platinum-gray/60 text-sm font-editorial",children:[(0,a.jsx)("div",{className:"font-sf font-medium mb-2 text-mine-shaft/80 dark:text-platinum-gray/80",children:n}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:o}),d]})]})]})})},M=e=>{let{data:t}=e,s=(0,n.useRouter)(),r=e=>e>=90?"bg-emerald-500":e>=80?"bg-sunglow":e>=70?"bg-orange-500":"bg-red-500";return 0===t.length?(0,a.jsxs)("div",{className:"bg-vista-white dark:bg-onyx-gray border-0 rounded-t-none rounded-b-2xl p-8 shadow-lg relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-brand-gradient rounded-none"}),(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("h3",{className:"text-mine-shaft dark:text-platinum-gray text-2xl font-bebas tracking-tight mb-4",children:"ATS Scores by Job Role"}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-sunglow",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,a.jsx)("p",{className:"text-mine-shaft/60 dark:text-platinum-gray/60 text-sm font-editorial",children:'No ATS scores available yet. Click "New Resume" to get started!'})]})]})]}):(0,a.jsxs)("div",{className:"bg-vista-white dark:bg-onyx-gray border-0 rounded-t-none rounded-b-2xl p-8 shadow-lg relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-brand-gradient rounded-none"}),(0,a.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-mine-shaft dark:text-platinum-gray text-2xl font-bebas tracking-tight mb-2",children:"ATS Scores by Role & Company"}),(0,a.jsx)("p",{className:"text-mine-shaft/60 dark:text-platinum-gray/60 text-sm font-editorial",children:"Performance comparison across different roles and companies"})]})}),(0,a.jsx)("div",{className:"space-y-4",children:t.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-44 text-right",children:(0,a.jsxs)("span",{className:"text-mine-shaft dark:text-platinum-gray text-sm font-sf font-medium truncate block",title:e.job_role+(e.target_company?" / "+e.target_company:""),children:[e.job_role,e.target_company?" / "+e.target_company:""]})}),(0,a.jsx)("div",{className:"flex-1 relative",children:(0,a.jsxs)("div",{className:"w-full bg-gray-100 dark:bg-gray-800 rounded-full h-7 relative overflow-hidden shadow-inner",children:[(0,a.jsx)("div",{className:(0,i.cn)("h-full rounded-full transition-all duration-700 ease-out",r(e.ats_score)),style:{width:Math.max(e.ats_score,5)+"%"}}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-between px-4",children:(0,a.jsxs)("span",{className:"text-mine-shaft dark:text-platinum-gray text-xs font-sf font-semibold",children:[e.ats_score.toFixed(1),"%"]})})]})}),(0,a.jsx)("div",{className:"w-20 flex justify-end",children:(0,a.jsx)(_,{size:"sm",variant:"primary",onClick:()=>s.push("/editor?project_id="+e.project_id),icon:(0,a.jsx)("svg",{fill:"none",height:"14",viewBox:"0 0 24 24",width:"14",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M10.75 8.75L14.25 12L10.75 15.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})}),children:"Edit"})})]},t))}),(0,a.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-8 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-emerald-500 rounded-full shadow-sm"}),(0,a.jsx)("span",{className:"text-mine-shaft/70 dark:text-platinum-gray/70 font-sf font-medium",children:"90%+ Excellent"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-sunglow rounded-full shadow-sm"}),(0,a.jsx)("span",{className:"text-mine-shaft/70 dark:text-platinum-gray/70 font-sf font-medium",children:"80-89% Good"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-orange-500 rounded-full shadow-sm"}),(0,a.jsx)("span",{className:"text-mine-shaft/70 dark:text-platinum-gray/70 font-sf font-medium",children:"70-79% Fair"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded-full shadow-sm"}),(0,a.jsx)("span",{className:"text-mine-shaft/70 dark:text-platinum-gray/70 font-sf font-medium",children:"<70% Needs Work"})]})]})})]})},R=e=>{let{onShowContent:t,onRunGapAnalysis:s,projectId:r,hasGapAnalysis:n,isAnalyzing:i}=e;return(console.log("GapAnalysisColumn "+r+":",{hasGapAnalysis:n,isAnalyzing:i,typeof_hasGapAnalysis:typeof n}),i)?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-sunglow border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{className:"text-sunglow text-sm",children:"Analyzing..."})]}):n?(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)(_,{size:"sm",variant:"outline",onClick:()=>t("gap-analysis",r),children:"Gap Analysis"}),(0,a.jsx)(_,{size:"sm",variant:"outline",onClick:()=>t("upskill",r),children:"Upskill"}),(0,a.jsx)(_,{size:"sm",variant:"outline",onClick:()=>t("project-recommendations",r),children:"Projects"})]}):(0,a.jsx)(_,{size:"md",variant:"primary",onClick:()=>s(r),children:"Run Review"})},z=e=>{let{currentPage:t,totalPages:s,onPageChange:r}=e;if(s<=1)return null;let n=[];for(let e=1;e<=s;e++)n.push(e);return(0,a.jsxs)("div",{className:"flex items-center justify-between px-8 py-6 bg-gray-50/30 border-t border-gray-100",children:[(0,a.jsxs)("div",{className:"text-mine-shaft/60 text-sm font-sf",children:["Page ",t," of ",s]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>r(t-1),disabled:1===t,className:"px-4 py-2 text-sm bg-white hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400 text-mine-shaft rounded-lg transition-all duration-200 border border-gray-200 font-sf",children:"Previous"}),n.map(e=>(0,a.jsx)("button",{onClick:()=>r(e),className:(0,i.cn)("px-4 py-2 text-sm rounded-lg transition-all duration-200 font-sf font-medium",e===t?"bg-sunglow text-mine-shaft shadow-sm":"bg-white hover:bg-gray-50 text-mine-shaft border border-gray-200"),children:e},e)),(0,a.jsx)("button",{onClick:()=>r(t+1),disabled:t===s,className:"px-4 py-2 text-sm bg-white hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400 text-mine-shaft rounded-lg transition-all duration-200 border border-gray-200 font-sf",children:"Next"})]})]})},A=e=>{let{projects:t,loading:s,currentPage:r,totalPages:o,onPageChange:l,onShowGapAnalysis:d,onRunGapAnalysis:c,onDownloadJobDescription:h,analyzingProjects:m}=e,x=(0,n.useRouter)();return(0,a.jsxs)("div",{className:"bg-vista-white dark:bg-onyx-gray border-0 rounded-t-none rounded-b-2xl overflow-hidden shadow-lg relative",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-brand-gradient rounded-none"}),(0,a.jsxs)("div",{className:"px-8 py-6 border-b-0",children:[(0,a.jsx)("h3",{className:"text-mine-shaft dark:text-platinum-gray text-2xl font-bebas tracking-tight mb-2",children:"Your Resumes"}),(0,a.jsx)("p",{className:"text-mine-shaft/60 dark:text-platinum-gray/60 text-sm font-editorial",children:"Manage and track your resume portfolio"})]}),(0,a.jsx)("div",{className:"px-8 py-4 bg-gray-50/50 dark:bg-gray-800/50 border-b-0",children:(0,a.jsxs)("div",{className:"grid grid-cols-5 gap-4 text-xs font-sf font-semibold text-mine-shaft/70 dark:text-platinum-gray/70 uppercase tracking-wider",children:[(0,a.jsx)("div",{children:"Job Role"}),(0,a.jsx)("div",{children:"Target Company"}),(0,a.jsx)("div",{children:"ATS Score"}),(0,a.jsx)("div",{children:"Gap Analysis"}),(0,a.jsx)("div",{children:"Actions"})]})}),(0,a.jsx)("div",{className:"divide-y-0",children:s?(0,a.jsxs)("div",{className:"px-8 py-12 text-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-sunglow border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-mine-shaft/60 dark:text-platinum-gray/60 text-sm font-editorial",children:"Loading your resumes..."})]}):0===t.length?(0,a.jsxs)("div",{className:"px-8 py-12 text-center",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-sunglow/20 to-sunglow/10 dark:from-sunglow/30 dark:to-sunglow/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-sunglow",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})}),(0,a.jsx)("p",{className:"text-mine-shaft/60 dark:text-platinum-gray/60 text-sm font-editorial",children:'No resumes created yet. Click "New Resume" to get started!'})]}):t.map(e=>(0,a.jsx)("div",{className:"px-8 py-6 hover:bg-gray-50/30 dark:hover:bg-gray-800/30 transition-all duration-200 border-l-4 border-transparent hover:border-sunglow/30",children:(0,a.jsxs)("div",{className:"grid grid-cols-5 gap-4 items-center",children:[(0,a.jsx)("div",{className:"text-mine-shaft dark:text-platinum-gray text-sm font-sf font-medium",children:e.job_role}),(0,a.jsx)("div",{className:"text-mine-shaft/60 dark:text-platinum-gray/60 text-sm font-editorial",children:e.target_company||"Not specified"}),(0,a.jsx)("div",{className:"flex items-center space-x-3",children:e.ats_score?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:(0,i.cn)("text-sm font-sf font-semibold",e.ats_score>=90?"text-emerald-500":e.ats_score>=80?"text-sunglow":e.ats_score>=70?"text-orange-500":"text-red-500"),children:[e.ats_score,"%"]}),(0,a.jsx)("div",{className:(0,i.cn)("w-3 h-3 rounded-full shadow-sm",e.ats_score>=90?"bg-emerald-500":e.ats_score>=80?"bg-sunglow":e.ats_score>=70?"bg-orange-500":"bg-red-500")})]}):(0,a.jsx)("span",{className:"text-mine-shaft/40 dark:text-platinum-gray/40 text-sm font-sf",children:"Pending"})}),(0,a.jsx)("div",{children:(0,a.jsx)(R,{onShowContent:d,onRunGapAnalysis:c,projectId:e.id,hasGapAnalysis:e.has_gap_analysis,isAnalyzing:m.has(e.id)})}),(0,a.jsxs)("div",{className:"flex space-x-2 items-center",children:[(0,a.jsx)(_,{size:"sm",variant:"primary",onClick:()=>x.push("/editor?project_id="+e.id),icon:(0,a.jsx)("svg",{fill:"none",height:"14",viewBox:"0 0 24 24",width:"14",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M10.75 8.75L14.25 12L10.75 15.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})}),children:"Open Resume"}),(0,a.jsx)(_,{size:"sm",variant:"secondary",onClick:()=>h(e.id),title:"Download Job Description",icon:(0,a.jsx)("svg",{fill:"none",height:"14",viewBox:"0 0 24 24",width:"14",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M12 3V16M12 16L16 12M12 16L8 12M21 21H3",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})}),children:"Download JD"})]})]})},e.id))}),(0,a.jsx)(z,{currentPage:r,totalPages:o,onPageChange:l})]})};function S(){var e,t;let s=(0,n.useRouter)(),{user:i,loading:o,isAuthenticated:l,token:d}=(0,N.a)(),[c,h]=(0,r.useState)(null),[m,x]=(0,r.useState)(!1),[u,f]=(0,r.useState)(null),[g,p]=(0,r.useState)(1),[b,j]=(0,r.useState)(new Set),[v,w]=(0,r.useState)({isOpen:!1,title:"",content:"",isLoading:!1}),y=async e=>{if(!d){console.error("No authentication token found");return}try{let t=await fetch("http://localhost:8000/download-job-description/"+e,{headers:{Authorization:"Bearer "+d,"ngrok-skip-browser-warning":"true"}});if(t.ok){let e=await t.blob(),s=t.headers.get("Content-Disposition"),a="job_description.txt";if(s){let e=s.match(/filename="([^"]*)"/)||s.match(/filename=([^;]*)/);e&&(a=e[1])}let r=window.URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=a,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(r),document.body.removeChild(n)}else console.error("Download failed:",t.status)}catch(e){console.error("Download error:",e)}},C=async(e,t)=>{try{w(e=>({...e,isOpen:!0,isLoading:!0,title:"Loading...",content:""})),console.log("\uD83D\uDD0D Dashboard: Fetching gap analysis content:",e,"for project:",t);let s="http://localhost:8000",a=await fetch(t?s+"/get-gap-analysis-content/"+e+"?project_id="+t:s+"/get-gap-analysis-content/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json","ngrok-skip-browser-warning":"true"}});if(a.ok){let e=await a.json();console.log("✅ Dashboard: Gap analysis content received:",e.title),w({isOpen:!0,isLoading:!1,title:e.title,content:e.content})}else{console.error("❌ Dashboard: Failed to fetch gap analysis content:",a.statusText);let e=await a.json().catch(()=>({detail:a.statusText}));w({isOpen:!0,isLoading:!1,title:"Error",content:"**Error loading content:** "+(e.detail||a.statusText)})}}catch(e){console.error("Error fetching gap analysis content:",e),w({isOpen:!0,isLoading:!1,title:"Error",content:"**Network Error:** "+(e instanceof Error?e.message:"Unknown error occurred")})}},R=async e=>{if(!d){console.log("No token available for gap analysis");return}try{console.log("\uD83D\uDD0D Dashboard: Starting gap analysis for project:",e),j(t=>new Set(t).add(e));let t=new FormData;t.append("project_id",e);let s=await fetch("http://localhost:8000/run-gap-analysis-cloud",{method:"POST",headers:{Authorization:"Bearer "+d,"ngrok-skip-browser-warning":"true"},body:t});if(s.ok)await s.json(),console.log("✅ Dashboard: Gap analysis completed successfully"),console.log("\uD83D\uDD0D Dashboard: Refreshing dashboard data after gap analysis..."),await z(),console.log("✅ Dashboard: Dashboard data refreshed"),j(t=>{let s=new Set(t);return s.delete(e),s});else{let t=await s.json().catch(()=>({detail:s.statusText}));console.error("❌ Dashboard: Failed to run gap analysis:",t.detail),j(t=>{let s=new Set(t);return s.delete(e),s}),console.error("Gap analysis failed:",t.detail)}}catch(t){console.error("Error running gap analysis:",t),j(t=>{let s=new Set(t);return s.delete(e),s})}},z=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;if(!d){console.log("No token available, skipping dashboard data fetch");return}x(!0),f(null);try{console.log("\uD83D\uDD0D Dashboard: Fetching dashboard data...");let t=await fetch("http://localhost:8000/dashboard?page="+e+"&projects_per_page=5",{headers:{Authorization:"Bearer "+d,"ngrok-skip-browser-warning":"true"}});if(t.ok){let e=await t.json();if(console.log("✅ Dashboard: Data fetched successfully:",e),console.log("✅ Dashboard: Raw recent_projects:",e.recent_projects),e.recent_projects&&e.recent_projects.length>0){let t=e.recent_projects[0];console.log("\uD83D\uDD0D DEEP DEBUG: First project raw JSON:",JSON.stringify(t,null,2)),console.log("\uD83D\uDD0D DEEP DEBUG: Object.keys(firstProject):",Object.keys(t)),console.log("\uD83D\uDD0D DEEP DEBUG: firstProject.has_gap_analysis:",t.has_gap_analysis),console.log("\uD83D\uDD0D DEEP DEBUG: typeof firstProject.has_gap_analysis:",typeof t.has_gap_analysis),console.log('\uD83D\uDD0D DEEP DEBUG: firstProject["has_gap_analysis"]:',t.has_gap_analysis)}e.recent_projects&&e.recent_projects.forEach(e=>{console.log("Project "+e.id+":",{id:e.id,job_role:e.job_role,has_gap_analysis:e.has_gap_analysis,gap_analysis_files:e.gap_analysis_files,type_has_gap_analysis:typeof e.has_gap_analysis})}),h(e)}else{let e=await t.json().catch(()=>({detail:t.statusText}));f(e.detail||"Failed to fetch dashboard data"),console.error("❌ Dashboard: Failed to fetch data:",e)}}catch(e){console.error("❌ Dashboard: Network error:",e),f("Network error while fetching dashboard data")}finally{x(!1)}};if((0,r.useEffect)(()=>{!o&&l&&d&&z()},[o,l,d,g]),(0,r.useEffect)(()=>{o||l||s.push("/")},[o,l,s]),o||m)return(0,a.jsx)("div",{className:"min-h-screen bg-vista-white texture-paper text-mine-shaft flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-3 border-sunglow/30 border-t-sunglow rounded-full animate-spin mx-auto mb-6"}),(0,a.jsx)("p",{className:"text-mine-shaft/60 font-editorial text-lg",children:"Loading dashboard..."}),(0,a.jsx)("p",{className:"text-mine-shaft/40 font-sf text-sm mt-2",children:"Preparing your resume insights"})]})});if(!l)return null;if(u)return(0,a.jsxs)("div",{className:"min-h-screen bg-vista-white texture-paper text-mine-shaft",children:[(0,a.jsxs)("div",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-sunglow rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-mine-shaft font-bold text-sm brand-heading",children:"A"})}),(0,a.jsx)("span",{className:"text-mine-shaft font-semibold brand-heading",children:"Resume Builder"})]}),(0,a.jsxs)("span",{className:"text-mine-shaft text-lg brand-body",children:["Welcome, ",(null==i?void 0:i.full_name)||(null==i?void 0:null===(t=i.email)||void 0===t?void 0:t.split("@")[0])]})]}),(0,a.jsx)(k,{})]}),(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center max-w-md mx-auto",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-db3b09/20 to-db3b09/10 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)("span",{className:"text-db3b09 text-2xl",children:"⚠️"})}),(0,a.jsx)("div",{className:"text-mine-shaft text-2xl font-bebas tracking-tight mb-3",children:"Failed to load dashboard"}),(0,a.jsx)("p",{className:"text-mine-shaft/60 mb-6 font-editorial",children:u}),(0,a.jsx)("button",{onClick:()=>z(),className:"px-6 py-3 bg-sunglow hover:bg-sunglow/90 text-mine-shaft rounded-xl transition-all duration-200 font-sf font-medium shadow-sm hover:shadow-md",children:"Try Again"})]})})]});let S=null==c?void 0:c.stats,B=(null==c?void 0:c.recent_projects)||[],P=(null==c?void 0:c.ats_by_job_role)||[];return(0,a.jsxs)("div",{className:"min-h-screen bg-vista-white dark:bg-charcoal-black dark:texture-grid-dark text-mine-shaft dark:text-platinum-gray",children:[(0,a.jsxs)("div",{className:"h-20 bg-vista-white/95 dark:bg-charcoal-black/95 backdrop-blur-sm border-b border-gray-100 dark:border-gray-800 flex items-center justify-between px-8 sticky top-0 z-40",children:[(0,a.jsx)("div",{className:"flex items-center space-x-8",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl overflow-hidden shadow-sm",children:(0,a.jsx)("img",{src:"/logo.jpeg",alt:"Resume Builder Logo",className:"w-full h-full object-cover"})}),(0,a.jsx)("span",{className:"text-mine-shaft dark:text-platinum-gray font-bebas text-xl tracking-tight",children:"Resume Builder"})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(E,{}),(0,a.jsx)(k,{})]})]}),(0,a.jsx)("div",{className:"flex-1 flex flex-col bg-vista-white dark:bg-charcoal-black",children:(0,a.jsxs)("div",{className:"flex-1 p-8 space-y-8 bg-vista-white dark:bg-charcoal-black",children:[(0,a.jsxs)("div",{className:"hidden md:block mb-4",children:[(0,a.jsx)("span",{className:"text-mine-shaft/60 dark:text-platinum-gray/60 text-lg font-sf",children:"Welcome back,"}),(0,a.jsx)("span",{className:"text-mine-shaft dark:text-platinum-gray text-2xl font-sf font-medium ml-2",children:(null==i?void 0:i.full_name)||(null==i?void 0:null===(e=i.email)||void 0===e?void 0:e.split("@")[0])})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-mine-shaft dark:text-platinum-gray text-4xl font-bebas tracking-tight mb-2",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-mine-shaft/60 dark:text-platinum-gray/60 text-lg font-editorial",children:"Track your resume performance and progress"})]}),S&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsx)(L,{title:"Highest ATS Score Achieved",value:S.highest_ats_score.toString(),change:S.ats_change,trend:"From latest resume",description:"Track your best performance",isHighestAts:!0,actionButton:S.highest_project_id&&(0,a.jsx)(_,{size:"sm",variant:"primary",onClick:()=>s.push("/editor?project_id="+S.highest_project_id),icon:(0,a.jsx)("svg",{fill:"none",height:"14",viewBox:"0 0 24 24",width:"14",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M10.75 8.75L14.25 12L10.75 15.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})}),children:"Open Resume"})}),(0,a.jsx)(L,{title:"Resumes Created",value:S.resumes_created.toString(),change:S.resumes_change,trend:"Total resumes built",description:"Keep building your portfolio"})]}),(0,a.jsx)(M,{data:P}),(0,a.jsx)(A,{projects:B,loading:!1,currentPage:(null==c?void 0:c.current_page)||1,totalPages:(null==c?void 0:c.total_pages)||1,onPageChange:e=>{p(e)},onShowGapAnalysis:C,onRunGapAnalysis:R,onDownloadJobDescription:y,analyzingProjects:b})]})}),(0,a.jsx)(D.Z,{isOpen:v.isOpen,onClose:()=>{w({isOpen:!1,title:"",content:"",isLoading:!1})},title:v.title,content:v.content,isLoading:v.isLoading})]})}},4446:function(e,t,s){"use strict";s.d(t,{M:function(){return b}});var a=s(7437),r=s(2265),n=s(5050),i=s(458),o=s(9033),l=s(7797),d=s(9306),c=s(9791);class h extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,s=(0,d.R)(e)&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m(e){let{children:t,isPresent:s,anchorX:n,root:i}=e,o=(0,r.useId)(),l=(0,r.useRef)(null),d=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=(0,r.useContext)(c._);return(0,r.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:r,right:c}=d.current;if(s||!l.current||!e||!t)return;l.current.dataset.motionPopId=o;let h=document.createElement("style");m&&(h.nonce=m);let x=null!=i?i:document.head;return x.appendChild(h),h.sheet&&h.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===n?"left: ".concat(r):"right: ".concat(c),"px !important;\n            top: ").concat(a,"px !important;\n          }\n        ")),()=>{x.contains(h)&&x.removeChild(h)}},[s]),(0,a.jsx)(h,{isPresent:s,childRef:l,sizeRef:d,children:r.cloneElement(t,{ref:l})})}let x=e=>{let{children:t,initial:s,isPresent:n,onExitComplete:o,custom:d,presenceAffectsLayout:c,mode:h,anchorX:x,root:f}=e,g=(0,i.h)(u),p=(0,r.useId)(),b=!0,j=(0,r.useMemo)(()=>(b=!1,{id:p,initial:s,isPresent:n,custom:d,onExitComplete:e=>{for(let t of(g.set(e,!0),g.values()))if(!t)return;o&&o()},register:e=>(g.set(e,!1),()=>g.delete(e))}),[n,g,o]);return c&&b&&(j={...j}),(0,r.useMemo)(()=>{g.forEach((e,t)=>g.set(t,!1))},[n]),r.useEffect(()=>{n||g.size||!o||o()},[n]),"popLayout"===h&&(t=(0,a.jsx)(m,{isPresent:n,anchorX:x,root:f,children:t})),(0,a.jsx)(l.O.Provider,{value:j,children:t})};function u(){return new Map}var f=s(3241);let g=e=>e.key||"";function p(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let b=e=>{let{children:t,custom:s,initial:l=!0,onExitComplete:d,presenceAffectsLayout:c=!0,mode:h="sync",propagate:m=!1,anchorX:u="left",root:b}=e,[j,v]=(0,f.oO)(m),w=(0,r.useMemo)(()=>p(t),[t]),y=m&&!j?[]:w.map(g),k=(0,r.useRef)(!0),N=(0,r.useRef)(w),D=(0,i.h)(()=>new Map),[_,C]=(0,r.useState)(w),[E,L]=(0,r.useState)(w);(0,o.L)(()=>{k.current=!1,N.current=w;for(let e=0;e<E.length;e++){let t=g(E[e]);y.includes(t)?D.delete(t):!0!==D.get(t)&&D.set(t,!1)}},[E,y.length,y.join("-")]);let M=[];if(w!==_){let e=[...w];for(let t=0;t<E.length;t++){let s=E[t],a=g(s);y.includes(a)||(e.splice(t,0,s),M.push(s))}return"wait"===h&&M.length&&(e=M),L(p(e)),C(w),null}let{forceRender:R}=(0,r.useContext)(n.p);return(0,a.jsx)(a.Fragment,{children:E.map(e=>{let t=g(e),r=(!m||!!j)&&(w===E||y.includes(t));return(0,a.jsx)(x,{isPresent:r,initial:(!k.current||!!l)&&void 0,custom:s,presenceAffectsLayout:c,mode:h,root:b,onExitComplete:r?void 0:()=>{if(!D.has(t))return;D.set(t,!0);let e=!0;D.forEach(t=>{t||(e=!1)}),e&&(null==R||R(),L(N.current),m&&(null==v||v()),d&&d())},anchorX:u,children:e},t)})})}}},function(e){e.O(0,[250,27,920,633,703,971,23,744],function(){return e(e.s=5005)}),_N_E=e.O()}]);